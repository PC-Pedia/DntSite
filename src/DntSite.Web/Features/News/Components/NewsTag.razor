@using DntSite.Web.Features.Posts.Components
@using DntSite.Web.Features.RssFeeds.Models
@attribute [Route(NewsRoutingConstants.NewsTag)]
@attribute [Route(NewsRoutingConstants.NewsTagPageCurrentPage)]
@attribute [Route(NewsRoutingConstants.NewsTagTagName)]
@attribute [Route(NewsRoutingConstants.NewsTagOldTagName)]
@attribute [Route(NewsRoutingConstants.NewsTagTagNamePageCurrentPage)]


@if (HasTag)
{
    if (_tagId.HasValue && _isExportedPdfFileReady)
    {
        <DntMessageBox Type="AlertType.Info" IsVisible="true" MarginBottom="4" MarginTop="2">
            <DntSite.Web.Features.Exports.Components.ShowExportedFile Id="_tagId.Value"
                                                                      Caption="@TagCaption"
                                                                      ButtonClass="btn-secondary"
                                                                      ItemType="WhatsNewItemType.NewsTag"/>
        </DntMessageBox>
    }

    <ShowNewsArchiveList Posts="_posts"
                         CurrentPage="CurrentPage"
                         ItemsPerPage="PostItemsPerPage"
                         BasePath="@BasePath"
                         MainTitle="@MainTitle"/>
}
else
{
    <TagsList MainTitle="@MainTitle"
              CurrentPage="CurrentPage"
              ItemsPerPage="TagItemsPerPage"
              TotalItemCount="@_totalTagItemsCount"
              BasePath="@BasePath"
              ShowExportedFile="true"
              ItemType="WhatsNewItemType.NewsTag"
              Tags="_tags"/>
}
