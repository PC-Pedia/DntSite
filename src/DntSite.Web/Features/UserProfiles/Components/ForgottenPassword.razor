@attribute [Route(UserProfilesRoutingConstants.ForgottenPassword)]
@attribute [Route(UserProfilesRoutingConstants.ForgottenPasswordOldUrl)]

<DntSitePageTitle PageTitle="بازیابی کلمه عبور فراموش شده"/>

<DntCardFrame>
    <FrameHeader>
        ارسال ایمیل بازیابی کلمه عبور
    </FrameHeader>
    <FrameBody>
        <EmailsHelp/>
        <EditForm Model="Model" method="post" OnValidSubmit="PerformAsync" FormName="@nameof(ForgottenPassword)" Enhance>
            <DataAnnotationsValidator/>

            <DntInputText AutoCompleteType="AutoCompleteType.On"
                          FieldIcon="@DntBootstrapIcons.BiMailbox"
                          @bind-Value="Model.EMail"
                          dir="ltr"/>

            <DntTextCaptcha @bind-InputCaptchaValue="Model.InputCaptchaValue"
                            @bind-RealCaptchaValue="Model.RealCaptchaValue"
                            Min="1"
                            Max="9"
                            CustomFontPath="@AppFoldersService.CustomFontWithPersianDigitsPath"
                            LabelName="حاصل عملیات به‌شکل یک عدد صحیح"
                            AbsoluteCaptchaExpirationRelativeToNow="TimeSpan.FromMinutes(value: 2)"
                            AllowedTriesPermitLimit="10"
                            BanDurationRelativeToNow="TimeSpan.FromMinutes(value: 2)"
                            BanErrorMessage="لطفا 2 دقیقه پیش از سعی مجدد بعدی، صبر کنید!"
                            BanErrorFieldIcon="@DntBootstrapIcons.BiSignStopFill"/>

            <DntButton Type="ButtonType.Submit" IsSubmittingText="در حال ارسال ...">ارسال</DntButton>
        </EditForm>
    </FrameBody>
</DntCardFrame>
