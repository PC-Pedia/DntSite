@attribute [Route(UserProfilesRoutingConstants.ChangePassword)]

<DntSitePageTitle PageTitle="تغییر کلمه‌ی عبور"/>

<DntCardFrame>
    <FrameHeader>
        تغییر کلمه‌ی عبور
    </FrameHeader>
    <FrameBody>
        <DntMessageBox Type="AlertType.Warning" IsVisible="@(_lastUserPasswordChangeDate.HasValue)">
            آخرین باری که کلمه‌ی عبور خود را تغییر داده‌اید:
            <strong>
                @_lastUserPasswordChangeDate.ToFriendlyPersianDateTextify().ToPersianNumbers()
            </strong>
        </DntMessageBox>

        <EditForm Model="Model" method="post" OnValidSubmit="PerformAsync" FormName="@nameof(ChangePassword)" Enhance>
            <DataAnnotationsValidator/>

            <DntInputText AutoCompleteType="AutoCompleteType.CurrentPassword"
                          FieldIcon="@DntBootstrapIcons.BiKey"
                          InputType="password"
                          @bind-Value="Model.OldPassword"
                          dir="ltr"/>

            <DntInputText AutoCompleteType="AutoCompleteType.NewPassword"
                          FieldIcon="@DntBootstrapIcons.BiKeyFill"
                          InputType="password"
                          @bind-Value="Model.NewPassword"
                          dir="ltr"/>

            <DntInputText AutoCompleteType="AutoCompleteType.NewPassword"
                          FieldIcon="@DntBootstrapIcons.BiKeyFill"
                          InputType="password"
                          @bind-Value="Model.ConfirmPassword"
                          dir="ltr"/>

            <DntButton Type="ButtonType.Submit" IsSubmittingText="در حال ارسال ...">ارسال</DntButton>
        </EditForm>
    </FrameBody>
</DntCardFrame>
