@using DntSite.Web.Features.UserProfiles.Components
@attribute [Route(PrivateMessagesRoutingConstants.PublicContactUs1)]
@attribute [Route(PrivateMessagesRoutingConstants.PublicContactUs2)]
@attribute [Route(PrivateMessagesRoutingConstants.PublicContactUs3)]

<DntSitePageTitle Group="پیام‌ها" PageTitle="تماس با ما" CurrentPage="@null"/>

<DntCardFrame>
    <FrameHeader>
        تماس با ما
    </FrameHeader>
    <FrameBody>
        <EmailsHelp/>
        <EditForm Model="Model" method="post" OnValidSubmit="PerformAsync" FormName="@nameof(PublicContactUs)" Enhance>
            <DataAnnotationsValidator/>

            <DntInputText AutoCompleteType="AutoCompleteType.On"
                          FieldIcon="@DntBootstrapIcons.BiPerson"
                          @bind-Value="Model.FromUserName"/>

            <DntInputText AutoCompleteType="AutoCompleteType.On"
                          FieldIcon="@DntBootstrapIcons.BiMailbox"
                          @bind-Value="Model.FromUserNameEmail"
                          dir="ltr"/>

            <DntInputText AutoCompleteType="AutoCompleteType.Off"
                          FieldIcon="@DntBootstrapIcons.BiCardText"
                          @bind-Value="Model.Title"/>

            <DntHtmlEditor @bind-Value="Model.DescriptionText"
                           IsReadOnly="false"
                           AllowChangeTextColor="ApplicationState.IsCurrentUserAdmin"
                           AllowUploadFile="false"
                           UploadFileApiPath=""
                           AcceptedUploadFileFormats=".zip,.rar,.7z"
                           MaximumUploadFileSizeInBytes="104857600"
                           AdditionalJsonDataDuringFileUpload=""
                           AllowUploadImageFile="false"
                           UploadImageFileApiPath=""
                           AcceptedUploadImageFormats="image/png, image/jpeg"
                           MaximumUploadImageSizeInBytes="614400"
                           AdditionalJsonDataDuringImageFileUpload=""
                           AllowInsertImageUrl="true"
                           Height="220px"
                           Placeholder=""
                           Theme="snow"
                           Direction="rtl"/>

            <DntTextCaptcha @bind-InputCaptchaValue="Model.InputCaptchaValue"
                            @bind-RealCaptchaValue="Model.RealCaptchaValue"
                            Min="1"
                            Max="9"
                            CustomFontPath="@AppFoldersService.CustomFontWithPersianDigitsPath"
                            LabelName="حاصل عملیات به‌شکل یک عدد صحیح"
                            AbsoluteCaptchaExpirationRelativeToNow="TimeSpan.FromMinutes(value: 2)"
                            AllowedTriesPermitLimit="10"
                            BanDurationRelativeToNow="TimeSpan.FromMinutes(value: 2)"
                            BanErrorMessage="لطفا 2 دقیقه پیش از سعی مجدد بعدی، صبر کنید!"
                            BanErrorFieldIcon="@DntBootstrapIcons.BiSignStopFill"/>

            <DntButton Type="ButtonType.Submit" IsSubmittingText="در حال ارسال ...">ارسال</DntButton>
        </EditForm>
    </FrameBody>
</DntCardFrame>
